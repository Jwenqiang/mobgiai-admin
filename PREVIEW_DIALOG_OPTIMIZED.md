# 预览对话框优化 - 适配屏幕尺寸

## 优化内容

### 1. 确保在屏幕内显示
**问题**：预览框超出屏幕，需要滚动才能看全

**解决方案**：
- 对话框最大高度：从 90vh 改为 85vh
- 垂直居中：使用 flexbox 居中对齐
- 图片/视频最大高度：calc(85vh - 60px)

```css
.preview-dialog :deep(.el-dialog) {
  max-height: 85vh;
  margin: 0 auto !important;  /* 去掉上下边距 */
  display: flex;
  align-items: center;  /* 垂直居中 */
}

.preview-dialog :deep(.el-dialog__body) {
  height: 85vh;
  max-height: 85vh;
  display: flex;
  align-items: center;
}
```

### 2. 关闭按钮不挡住文字
**问题**：关闭按钮太大(48px)且位置太靠内(24px)，挡住了"图片详情"文字

**解决方案**：
- 按钮尺寸：从 48px 改为 40px
- 位置：从 top: 24px, right: 24px 改为 top: 16px, right: 16px
- 背景更深：rgba(0, 0, 0, 0.7) 提高对比度

```css
.preview-close-btn {
  top: 16px;
  right: 16px;
  width: 40px;
  height: 40px;
  background: rgba(0, 0, 0, 0.7);
}

.preview-close-btn .el-icon {
  font-size: 20px;  /* 从 22px 改为 20px */
}
```

### 3. 优化右侧面板尺寸
**问题**：右侧面板太宽(420px)，占用过多空间

**解决方案**：
- 面板宽度：从 420px 改为 380px
- 内边距：从 40px 32px 改为 28px 24px
- 标题图标：从 48px 改为 42px
- 标题文字：从 20px 改为 18px

```css
.preview-info-section {
  width: 380px;  /* 从 420px 改为 380px */
}

.info-content {
  padding: 28px 24px;  /* 从 40px 32px 改为 28px 24px */
}

.header-icon {
  width: 42px;  /* 从 48px 改为 42px */
  height: 42px;
  font-size: 22px;  /* 从 24px 改为 22px */
}

.header-title {
  font-size: 18px;  /* 从 20px 改为 18px */
}
```

### 4. 优化间距和尺寸
**调整项**：
- 标题区域间距：margin-bottom 从 32px 改为 24px
- 标题底部间距：padding-bottom 从 24px 改为 20px
- 提示词区域间距：margin-bottom 从 28px 改为 24px
- 提示词标签字号：从 13px 改为 12px
- 提示词文字字号：从 15px 改为 14px
- 提示词内边距：从 20px 改为 16px
- 按钮高度：从 52px 改为 48px
- 按钮圆角：从 26px 改为 24px

### 5. 提示词区域优化
**新增功能**：
- 最小高度：100px
- 最大高度：300px
- 防止提示词过长导致布局问题

```css
.prompt-text {
  min-height: 100px;
  max-height: 300px;
  overflow-y: auto;
}

.prompt-placeholder {
  min-height: 100px;
}
```

### 6. 媒体区域优化
**调整项**：
- 内边距：从 40px 改为 30px
- 更紧凑的布局，留出更多空间给内容

## 优化前后对比

### 对话框尺寸
| 项目 | 优化前 | 优化后 |
|------|--------|--------|
| 最大高度 | 90vh | 85vh |
| 垂直边距 | 5vh | 0 (居中) |
| 右侧面板宽度 | 420px | 380px |

### 关闭按钮
| 项目 | 优化前 | 优化后 |
|------|--------|--------|
| 尺寸 | 48x48px | 40x40px |
| 位置 | top: 24px, right: 24px | top: 16px, right: 16px |
| 图标大小 | 22px | 20px |

### 标题区域
| 项目 | 优化前 | 优化后 |
|------|--------|--------|
| 图标尺寸 | 48x48px | 42x42px |
| 标题字号 | 20px | 18px |
| 底部间距 | 32px | 24px |

### 提示词区域
| 项目 | 优化前 | 优化后 |
|------|--------|--------|
| 文字字号 | 15px | 14px |
| 内边距 | 20px | 16px |
| 最大高度 | 无限制 | 300px |
| 最小高度 | 无 | 100px |

### 按钮
| 项目 | 优化前 | 优化后 |
|------|--------|--------|
| 高度 | 52px | 48px |
| 圆角 | 26px | 24px |
| 悬停上移 | 3px | 2px |

## 视觉效果改进

### 1. 更好的屏幕适配
- ✅ 对话框完全在可视区域内
- ✅ 无需滚动页面即可看到所有内容
- ✅ 垂直居中，视觉更平衡

### 2. 关闭按钮不遮挡
- ✅ 按钮更小更精致
- ✅ 位置更靠边缘
- ✅ 不会挡住标题文字

### 3. 更紧凑的布局
- ✅ 右侧面板更窄，图片区域更大
- ✅ 间距更合理，不浪费空间
- ✅ 提示词有最大高度限制

### 4. 更好的内容展示
- ✅ 图片/视频有更多展示空间
- ✅ 提示词可滚动，不会撑开布局
- ✅ 所有元素比例协调

## 响应式保持
所有响应式断点保持不变：
- 桌面端（>1200px）：左右布局
- 中等屏幕（969px-1200px）：左右布局，面板更窄
- 平板端（769px-968px）：上下布局
- 移动端（<768px）：上下布局，进一步优化

## 测试建议

### 必测项目
- [ ] 在 1920x1080 屏幕上，对话框完全可见
- [ ] 在 1366x768 屏幕上，对话框完全可见
- [ ] 关闭按钮不挡住"图片详情"文字
- [ ] 长提示词可以滚动，不会撑开布局
- [ ] 图片/视频在左侧正常显示
- [ ] 所有悬停动画正常
- [ ] 点击遮罩可关闭对话框

### 不同分辨率测试
- [ ] 1920x1080 (Full HD)
- [ ] 1366x768 (常见笔记本)
- [ ] 1440x900 (MacBook)
- [ ] 2560x1440 (2K)
- [ ] 3840x2160 (4K)

## 性能影响
- ✅ 无性能影响
- ✅ 仅调整尺寸和间距
- ✅ 动画和效果保持不变

## 浏览器兼容性
- ✅ Chrome/Edge 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ 所有现代浏览器

## 总结
通过精细调整尺寸、间距和布局，预览对话框现在：
1. 完全适配屏幕，不会超出可视区域
2. 关闭按钮不会遮挡内容
3. 布局更紧凑合理
4. 视觉效果更专业
5. 用户体验更好
