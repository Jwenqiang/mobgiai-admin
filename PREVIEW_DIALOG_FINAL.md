# 预览对话框终极版 - 左右布局设计

## 设计概述

全新的左右分栏布局，图片/视频在左侧展示，详细信息在右侧面板，整体不超过可视区域，提供更专业和高级的用户体验。

## 核心特性

### 1. 限制在可视区域内
- **对话框尺寸**：最大宽度 1600px，最大高度 90vh
- **垂直居中**：上下各留 5vh 边距
- **防止溢出**：所有内容都在可视范围内，无需滚动页面

### 2. 左右分栏布局

#### 左侧：媒体展示区（flex: 1）
```
┌─────────────────────────────┐
│                             │
│                             │
│      [图片/视频内容]         │
│                             │
│                             │
└─────────────────────────────┘
```
- 自适应宽度，占据剩余空间
- 深色渐变背景
- 脉动光晕装饰效果
- 媒体内容居中显示

#### 右侧：信息面板（固定 420px）
```
┌──────────────────┐
│ 🎨 图片详情      │
│ ─────────────── │
│                  │
│ 📝 生成提示词    │
│ ┌──────────────┐│
│ │ 提示词内容... ││
│ │              ││
│ └──────────────┘│
│                  │
│  [下载图片]      │
└──────────────────┘
```
- 固定宽度 420px
- 深色半透明背景
- 包含标题、提示词、操作按钮
- 可滚动内容区域

### 3. 视觉设计升级

#### 关闭按钮
- **位置**：右上角固定（top: 24px, right: 24px）
- **尺寸**：48x48px 圆形
- **样式**：
  - 深色半透明背景 `rgba(0, 0, 0, 0.6)`
  - 40px 模糊效果
  - 白色边框
  - 阴影效果
- **交互**：悬停时旋转90度并放大到1.1倍

#### 媒体展示区
- **背景渐变**：
  ```css
  linear-gradient(135deg, 
    rgba(18, 18, 28, 0.4) 0%, 
    rgba(10, 10, 20, 0.6) 100%
  )
  ```
- **装饰光晕**：
  - 中心径向渐变
  - 紫色调 `rgba(102, 126, 234, 0.12)`
  - 80px 模糊
  - 6秒脉动动画
- **多层背景**：
  - 主光晕（中心）
  - 装饰光晕（左上、右下）

#### 图片/视频样式
- **圆角**：20px
- **多重阴影**：
  ```css
  0 30px 80px rgba(0, 0, 0, 0.5),
  0 0 0 1px rgba(255, 255, 255, 0.08),
  0 0 60px rgba(102, 126, 234, 0.15)
  ```
- **悬停效果**：
  - 放大到 1.01 倍
  - 阴影增强
  - 光晕更明显

#### 信息面板
- **背景渐变**：
  ```css
  linear-gradient(135deg,
    rgba(26, 26, 46, 0.95) 0%,
    rgba(18, 18, 35, 0.98) 100%
  )
  ```
- **模糊效果**：40px backdrop-filter
- **装饰光晕**：顶部和底部的径向渐变
- **左边框**：1px 半透明白色

#### 标题区域
- **图标**：
  - 48x48px 圆角方形
  - 渐变背景（紫色系）
  - 带边框和阴影
- **标题文字**：
  - 20px 粗体
  - 白色
  - 0.5px 字间距
- **底部装饰**：
  - 分隔线
  - 60px 宽的渐变色条

#### 提示词区域
- **标签**：
  - 大写字母
  - 1.2px 字间距
  - 紫色图标
- **文本框**：
  - 深色半透明背景
  - 内阴影效果
  - 自动高度，可滚动
  - 悬停时背景加深
- **占位符**：
  - 虚线边框
  - 斜体文字
  - 居中显示

#### 操作按钮
- **尺寸**：52px 高度，全宽
- **渐变背景**：紫色到粉色
- **多重效果**：
  - 外阴影（紫色光晕）
  - 内阴影（白色边框）
  - 光泽扫过动画
- **交互**：
  - 悬停：上移 3px
  - 点击：上移 1px
  - 0.4s 缓动过渡

### 4. 动画效果

#### 脉动光晕
```css
@keyframes pulseGlow {
  0%, 100% {
    opacity: 0.4;
    transform: translate(-50%, -50%) scale(1);
  }
  50% {
    opacity: 0.7;
    transform: translate(-50%, -50%) scale(1.2);
  }
}
```
- 6秒循环
- 透明度和大小变化
- 创造呼吸感

#### 光泽扫过
- 伪元素从左到右滑动
- 半透明白色渐变
- 0.6s 过渡时间
- 悬停时触发

### 5. 响应式设计

#### 桌面端（>1200px）
- 左右布局
- 右侧面板 420px
- 媒体区域自适应

#### 中等屏幕（969px-1200px）
- 左右布局
- 右侧面板 380px
- 内边距调整

#### 平板端（769px-968px）
- **切换为上下布局**
- 媒体区域：50vh
- 信息面板：40vh
- 边框从左侧改为顶部

#### 移动端（<768px）
- 上下布局
- 对话框宽度 95%
- 媒体区域：45vh
- 关闭按钮：40x40px
- 字体和间距缩小

## 技术实现

### HTML 结构
```vue
<el-dialog :show-close="false">
  <div class="preview-content">
    <!-- 关闭按钮 -->
    <div class="preview-close-btn">×</div>
    
    <!-- 左右布局容器 -->
    <div class="preview-layout">
      <!-- 左侧：媒体区 -->
      <div class="preview-media-section">
        <div class="media-container">
          <img/video />
        </div>
      </div>
      
      <!-- 右侧：信息区 -->
      <div class="preview-info-section">
        <div class="info-content">
          <!-- 标题 -->
          <div class="preview-header">
            <div class="header-icon">🎨</div>
            <h3>图片详情</h3>
          </div>
          
          <!-- 提示词 -->
          <div class="preview-prompt-section">
            <div class="prompt-label">📝 生成提示词</div>
            <div class="prompt-text">...</div>
          </div>
          
          <!-- 按钮 -->
          <div class="preview-actions">
            <button>下载</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</el-dialog>
```

### CSS 关键技术

#### 1. Flexbox 布局
```css
.preview-layout {
  display: flex;
  height: 100%;
  max-height: 90vh;
}

.preview-media-section {
  flex: 1;  /* 自适应 */
}

.preview-info-section {
  width: 420px;  /* 固定宽度 */
  flex-shrink: 0;
}
```

#### 2. 限制高度
```css
.preview-dialog :deep(.el-dialog) {
  max-height: 90vh;
  margin: 5vh auto !important;
}

.preview-image,
.preview-video {
  max-height: calc(90vh - 80px);
}
```

#### 3. 渐变背景
```css
/* 媒体区域 */
background: linear-gradient(135deg, 
  rgba(18, 18, 28, 0.4) 0%, 
  rgba(10, 10, 20, 0.6) 100%
);

/* 信息面板 */
background: linear-gradient(135deg,
  rgba(26, 26, 46, 0.95) 0%,
  rgba(18, 18, 35, 0.98) 100%
);
```

#### 4. 多层阴影
```css
box-shadow: 
  0 30px 80px rgba(0, 0, 0, 0.5),
  0 0 0 1px rgba(255, 255, 255, 0.08),
  0 0 60px rgba(102, 126, 234, 0.15);
```

#### 5. 响应式切换布局
```css
@media (max-width: 968px) {
  .preview-layout {
    flex-direction: column;  /* 改为垂直布局 */
  }
  
  .preview-info-section {
    width: 100%;  /* 全宽 */
    border-left: none;
    border-top: 1px solid rgba(255, 255, 255, 0.08);
  }
}
```

## 颜色方案

| 元素 | 颜色 | 说明 |
|------|------|------|
| 遮罩层 | `rgba(0, 0, 0, 0.94)` | 深色背景 |
| 媒体区背景 | `rgba(18, 18, 28, 0.4)` | 半透明深色 |
| 信息面板 | `rgba(26, 26, 46, 0.95)` | 深蓝半透明 |
| 主光晕 | `rgba(102, 126, 234, 0.12)` | 紫色 |
| 强调色 | `#667eea` | 图标、按钮 |
| 渐变 | `#667eea → #764ba2` | 按钮背景 |
| 主文字 | `rgba(255, 255, 255, 0.95)` | 高对比度 |
| 次要文字 | `rgba(255, 255, 255, 0.5)` | 标签 |
| 边框 | `rgba(255, 255, 255, 0.08)` | 分隔线 |

## 用户体验优势

### 1. 空间利用
- ✅ 左右布局充分利用宽屏
- ✅ 媒体内容更大更清晰
- ✅ 信息面板独立不遮挡

### 2. 信息层次
- ✅ 标题区域明确
- ✅ 提示词独立展示
- ✅ 操作按钮突出

### 3. 视觉舒适
- ✅ 深色背景护眼
- ✅ 渐变和光晕增加氛围
- ✅ 动画流畅自然

### 4. 交互友好
- ✅ 大按钮易点击
- ✅ 悬停反馈明确
- ✅ 关闭按钮位置固定

### 5. 响应式完善
- ✅ 桌面端左右布局
- ✅ 移动端上下布局
- ✅ 各尺寸都有优化

## 性能优化

1. **GPU 加速**：使用 transform 和 opacity 进行动画
2. **合理模糊**：backdrop-filter 仅在必要位置使用
3. **缓动函数**：cubic-bezier 提供流畅过渡
4. **层级管理**：z-index 合理分配
5. **避免重排**：使用 transform 而非 position

## 浏览器兼容性

- ✅ Chrome/Edge 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ⚠️ backdrop-filter 需要现代浏览器

## 测试清单

- [ ] 桌面端左右布局显示正常
- [ ] 图片预览清晰，不超出可视区域
- [ ] 视频预览播放正常
- [ ] 提示词完整显示，可滚动
- [ ] 关闭按钮旋转动画流畅
- [ ] 下载按钮光泽效果正常
- [ ] 平板端切换为上下布局
- [ ] 移动端尺寸适配正确
- [ ] 所有悬停效果正常
- [ ] 点击遮罩可关闭对话框

## 对比之前版本

### 之前（上下布局）
- ❌ 图片较小
- ❌ 提示词在底部，需要滚动
- ❌ 空间利用不充分
- ❌ 可能超出可视区域

### 现在（左右布局）
- ✅ 图片更大更清晰
- ✅ 提示词在侧边，一目了然
- ✅ 充分利用宽屏空间
- ✅ 严格限制在可视区域内
- ✅ 更专业的视觉设计
- ✅ 更丰富的动画效果
