# 预览对话框美化更新

## 更新内容

### 1. 修复图片预览问题
- 修复了 `previewImage` 函数，确保 `previewImageData` 被正确设置
- 图片点击时传递完整的 asset 对象，解决预览对话框打开但不显示图片的问题

### 2. 美化预览对话框
- **全新的视觉设计**
  - 深色渐变背景，带有微妙的光晕效果
  - 圆角设计（20px），更现代的外观
  - 增强的阴影和模糊效果，提升层次感
  
- **优化的布局结构**
  - 媒体内容区域：独立的展示区域，带有渐变背景和装饰性光晕
  - 信息面板：底部固定，包含提示词和操作按钮
  - 响应式设计：在不同屏幕尺寸下自适应

### 3. 添加提示词显示
- **提示词区域**
  - 显示生成图片/视频时使用的提示词
  - 带有图标标签的标题
  - 可滚动的文本区域（最大高度120px）
  - 优雅的滚动条样式
  
- **数据来源**
  - 从 `result.prompt` 或 `result.tags` 中获取提示词
  - 支持图片和视频预览

### 4. 改进的操作按钮
- 渐变色按钮设计（紫色到粉色）
- 悬停时的动画效果（上移 + 阴影增强）
- 更大的点击区域，更好的用户体验

### 5. 响应式优化
- 移动端（<768px）：
  - 对话框宽度95%
  - 媒体内容最大高度50vh
  - 调整内边距和字体大小
  
- 平板端（769px-1024px）：
  - 自适应布局
  
- 桌面端（>1024px）：
  - 最大宽度1400px
  - 媒体内容最大高度65vh

## 技术细节

### 新增变量
```typescript
const previewPrompt = ref('')
```

### 更新的函数签名
```typescript
// 图片预览
const previewImage = (imageUrl: string, imageData?: Asset, promptText?: string) => {
  // ...
}

// 视频预览
const previewVideo = (videoUrl: string, videoData?: Asset, promptText?: string) => {
  // ...
}
```

### 调用示例
```vue
<!-- 图片点击 -->
@click="previewImage(
  asset.materialUrl || asset.coverUrl, 
  asset, 
  result.prompt || result.tags?.find(t => t.key === 'prompt')?.val
)"

<!-- 视频点击 -->
@click="previewVideo(
  result.assets.find(a => a.type === 2)?.materialUrl || '', 
  result.assets.find(a => a.type === 2), 
  result.prompt || result.tags?.find(t => t.key === 'prompt')?.val
)"
```

## 视觉效果

### 对话框结构
```
┌─────────────────────────────────────┐
│  [媒体展示区域 - 渐变背景 + 光晕]    │
│                                     │
│        [图片/视频内容]               │
│                                     │
├─────────────────────────────────────┤
│  [信息面板 - 半透明背景]             │
│                                     │
│  📝 提示词                           │
│  ┌─────────────────────────────┐   │
│  │ 提示词文本内容...            │   │
│  └─────────────────────────────┘   │
│                                     │
│     [下载图片/视频] 按钮             │
│                                     │
└─────────────────────────────────────┘
```

### 颜色方案
- 主背景：`rgba(18, 18, 28, 0.98)` - 深色半透明
- 媒体区域：渐变背景 + 径向光晕效果
- 信息面板：`rgba(26, 26, 46, 0.6)` - 半透明深蓝
- 按钮：紫色到粉色渐变 `#667eea → #764ba2`
- 强调色：`#667eea` (紫色)

## 用户体验改进

1. **视觉层次清晰**：媒体内容和信息区域明确分离
2. **信息完整**：可以看到生成时使用的提示词
3. **交互流畅**：悬停动画和过渡效果
4. **响应式友好**：在各种设备上都有良好的显示效果
5. **易于操作**：大按钮，清晰的操作提示

## 测试建议

1. 点击生成结果中的图片，验证预览对话框正常显示
2. 点击生成结果中的视频，验证视频预览正常播放
3. 检查提示词是否正确显示
4. 测试下载功能是否正常工作
5. 在不同屏幕尺寸下测试响应式效果
